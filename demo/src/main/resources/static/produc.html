<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Inicio</title>
    <link rel="stylesheet" href="./css/styles.css">
    <link rel="stylesheet" href="index.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">


    <!-- Font Dancing Script de Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script&display=swap" rel="stylesheet">

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cormorant:wght@500&family=Dancing+Script&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css"
        integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp" crossorigin="anonymous">
    <script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>

</head>

<body style="background-image: url(./img/fnd.avif);">
    <header>
        <nav class="navbar navbar-expand-lg navbar-dark" id="prueba">
            <div class="container-fluid">

                <div class="collapse navbar-collapse" id="navbarNav">
                    <ul class="navbar-nav ">
                        <li class="nav-item">
                            <a class="nav-link active " href="index.html">Inicio</a>
                        </li>
                        <li class="nav-item" id="venta-item">
                            <a class="nav-link active" aria-current="page" href="#">Venta</a>
                            <!-- submenu -->
                            <div class="submenu">
                                <p>CATEGORÍAS:</p>
                                <ul>
                                    <li><a href="aretes.html">• Aretes</a></li>
                                    <li><a href="anillos.html">• Anillos</a></li>
                                    <li><a href="collares.html">• Collares</a></li>
                                    <li><a href="pulseras.html">• Pulseras</a></li>
                                    <li><a href="prueba.html">• Prueba-Conexion</a></li>
                                </ul>
                            </div>

                        </li>
                        <li class="nav-item">
                            <a class="nav-link active " href="personalizacion.html">Personalizacion</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link active " href="">Nosotros</a>
                            <div class="submenu">
                                <ul>
                                    <li><a href="contactenos.html">• Contáctanos</a></li>
                                    <li><a href="nosotrosh.html">• Nuestra Historia</a></li>
                                </ul>
                            </div>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link active " href="produc.html">Mis Pedidos</a>
                        </li>
                    </ul>
                </div>
                <div class="cuadro-logotipo">
                    <a class="logotipo" href="index.html">Carito</a>
                </div>



                <li class="d-flex" id="login">
                    <div class="cuadro-login">
                        <a th:href="@{/login}" id="enlaceLogin"><svg viewBox="0 0 24 24" width="50px" height="50px"
                                fill="none" xmlns="http://www.w3.org/2000/svg">
                                <g id="SVGRepo_bgCarrier" stroke-width="0"></g>
                                <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g>
                                <g id="SVGRepo_iconCarrier">
                                    <circle cx="12" cy="6" r="4" fill="#000000"></circle>
                                    <ellipse opacity="0.5" cx="12" cy="17" rx="7" ry="4" fill="#000000"></ellipse>
                                </g>
                            </svg> Loguearme</a>
                    </div>
                </li>
            </div>
        </nav>
    </header>
    <script>
        // Obtener referencia al enlace de login
        var enlaceLogin = document.getElementById('enlaceLogin');

        // Agregar un event listener para redirigir al hacer clic
        enlaceLogin.addEventListener('click', function () {
            // Redirigir a la página login.php
            window.location.href = 'login.html';
        });
    </script>

    <div>
        <center>
            <button type="button" class="btn btn-primary btn-lg" id="btn_Lista" onclick="mostrarperson()"
                style="display: disabled;">Lista de
                pedidos</button>
            <button type="button" class="btn btn-secondary btn-lg" id="btn-Person" onclick="mosrtrarpedidos()">Lista de
                pedidos
                personalizados</button>
        </center>

    </div>
    <br>

    <div class="container" id="pedido">
        <!-- <div class="row border border-dark rounded-4" style="background: rgba(228, 226, 226, 0.61);">
            <div class="col-12 col-sm-3 col-md-2">
                <img src="./img/anillos/ORA02CA62-7TC_918dd66c-8409-4555-818d-788f8deb01b8_1100x.png"
                    class="img-fluid rounded-start" alt="...">
            </div>

            <div class="col-2 col-sm-3  col-md-5">
                <div class="form-group">
                    <label for="colour">Nombre del pedido:</label>
                    <h1>Collar del corazones</h1>
                </div>
                <div class="form-group">
                    <label for="colour">Cantidad:</label>
                    <h1>5</h1>
                </div>
                <div class="form-group">
                    <label for="colour">Precio:</label>
                    <h1>900</h1>
                </div>
                <div class="form-group">
                    <label for="colour">Estado del pedido:</label>
                    <h1>Pendiente</h1>
                </div>
            </div>

            <div class="col-2 col-sm-3 col-md-4">
                <div class="form-group">
                    <label for="colour">Descripcion:</label>
                    <h1>Objeto material hecho de un metal noble y muy a menudo acompañado de piedras preciosas de mucho
                        valor económico con un fin de carácter decorativo personal.</h1>
                </div>

                <div class="form-group">
                    <label for="colour">Medida:</label>
                    <h1>2.5</h1>
                </div>
            </div>
        </div>
        <br>

        <div class="row border border-dark rounded-4" style="background: rgba(228, 226, 226, 0.61);">
            <div class="col-12 col-sm-3 col-md-2">
                <img src="./img/anillos/ARPAN6364-7Y_b683f1f1-c6b7-414c-83b7-c9d0094b0a30_1100x.png"
                    class="img-fluid rounded-start" alt="...">
            </div>

            <div class="col-2 col-sm-3  col-md-5">
                <div class="form-group">
                    <label for="colour">Nombre del pedido:</label>
                    <h1>Collar del corazones</h1>
                </div>
                <div class="form-group">
                    <label for="colour">Cantidad:</label>
                    <h1>5</h1>
                </div>
                <div class="form-group">
                    <label for="colour">Precio:</label>
                    <h1>900</h1>
                </div>
                <div class="form-group">
                    <label for="colour">Estado del pedido:</label>
                    <h1>Pendiente</h1>
                </div>
            </div>

            <div class="col-2 col-sm-3 col-md-4">
                <div class="form-group">
                    <label for="colour">Descripcion:</label>
                    <h1>Objeto material hecho de un metal noble y muy a menudo acompañado de piedras preciosas de mucho
                        valor económico con un fin de carácter decorativo personal.</h1>
                </div>
                <div class="form-group">
                    <label for="colour">Medida:</label>
                    <h1>2.5</h1>
                </div>
            </div>
        </div> -->
    </div>
    <!--  -->

    <div class="container" id="ped" style="display: none;">
        <div class="row border border-dark rounded-4"
            style="background: rgba(228, 226, 226, 0.61); margin-bottom: 100px;">
            <div class="col-12 col-sm-3 col-md-2">
                <img src="./img/anillos/ORA02CA62-7TC_918dd66c-8409-4555-818d-788f8deb01b8_1100x.png"
                    class="img-fluid rounded-start" alt="...">
            </div>
            <div class="col-2 col-sm-3  col-md-5">
                <div class="form-group">
                    <label for="colour">Tipo de pedido:</label>
                    <h1>Collar</h1>
                </div>
                <div class="form-group">
                    <label for="colour">Cantidad:</label>
                    <h1>5</h1>
                </div>
                <div class="form-group">
                    <label for="colour">Precio:</label>
                    <h1>900</h1>
                </div>
                <div class="form-group">
                    <label for="colour">Estado del pedido:</label>
                    <h1>Pendiente</h1>
                </div>



            </div>
            <div class="col-2 col-sm-3 col-md-4">
                <div class="form-group">
                    <label for="colour">Descripcion:</label>
                    <h1>Objeto material hecho de un metal noble y muy a menudo acompañado de piedras preciosas.</h1>
                </div>
                <div class="form-group">
                    <label for="colour">Medida:</label>
                    <h1>2.5</h1>
                </div>
                <div class="form-group">
                    <label for="colour">Codigo de Entrega:</label>
                    <h1>789456123</h1>
                </div>
            </div>

        </div>
        <br>

        <div class="row border border-dark rounded-4" style="background: rgba(228, 226, 226, 0.61);">
            <div class="col-12 col-sm-3 col-md-2">
                <img src="./img/anillos/ARPAN6364-7Y_b683f1f1-c6b7-414c-83b7-c9d0094b0a30_1100x.png"
                    class="img-fluid rounded-start" alt="...">
            </div>
            <div class="col-2 col-sm-3  col-md-5">
                <div class="form-group">
                    <label for="colour">Tipo de pedido:</label>
                    <h1>Collar</h1>
                </div>
                <div class="form-group">
                    <label for="colour">Cantidad:</label>
                    <h1>5</h1>
                </div>
                <div class="form-group">
                    <label for="colour">Precio:</label>
                    <h1>900</h1>
                </div>
                <div class="form-group">
                    <label for="colour">Estado del pedido:</label>
                    <h1>Pendiente</h1>
                </div>



            </div>
            <div class="col-2 col-sm-3 col-md-4">
                <div class="form-group">
                    <label for="colour">Descripcion:</label>
                    <h1>Objeto material hecho de un metal noble y muy a menudo acompañado de piedras preciosas.</h1>
                </div>
                <div class="form-group">
                    <label for="colour">Medida:</label>
                    <h1>2.5</h1>
                </div>
                <div class="form-group">
                    <label for="colour">Codigo de Entrega:</label>
                    <h1>789456123</h1>
                </div>
            </div>

        </div>

    </div>

    <script>
        // Obtener los pedidos del cliente desde el servidor
        fetch('/pedidos')
            .then(response => response.json())
            .then(pedidos => {
                // Filtrar los pedidos por ID del Cliente
                const idDelCliente = pedidos.filter(pedido => pedido.idCliente === 1111)

                // Verificar si hay pedidos para el cliente
                if (idDelCliente.length > 0) {
                    // Llenar dinámicamente el contenedor de pedidos
                    const pedidosContainer = document.getElementById('pedido');

                    pedidos.forEach(pedido => {
                        // Crear elementos y llenar con datos del pedido
                        const pedidoElement = document.createElement('div');
                        pedidoElement.classList.add('row', 'border', 'border-dark', 'rounded-4');
                        pedidoElement.style.background = 'rgba(228, 226, 226, 0.61)';
                        pedidoElement.style.marginBottom = '30px';
                        pedidoElement.innerHTML = `
                            <div class="col-12 col-sm-3 col-md-2">
                                <img src="${pedido.imagen}"
                                    class="img-fluid rounded-start" alt="...">
                            </div>
                            <div class="col-2 col-sm-3  col-md-5">
                                <div class="form-group">
                                    <label for="colour">Nombre del pedido:</label>
                                    <h1>${pedido.nombrePedido}</h1>
                                </div>
                                <div class="form-group">
                                    <label for="colour">Cantidad:</label>
                                    <h1>${pedido.cantidad}</h1>
                                </div>
                                <div class="form-group">
                                    <label for="colour">Precio:</label>
                                    <h1>${pedido.precio}</h1>
                                </div>
                                <div class="form-group">
                                    <label for="colour">Estado del pedido:</label>
                                    <h1>${pedido.estadoPedido}</h1>
                                </div>
                            </div>
                            <div class="col-2 col-sm-3 col-md-4">
                                <div class="form-group">
                                    <label for="colour">Descripcion:</label>
                                    <h1>${pedido.descripcion}</h1>
                                </div>
                                <div class="form-group">
                                    <label for="colour">Medida:</label>
                                    <h1>${pedido.medida}</h1>
                                </div>
                            </div>
                        `;
                        

                        // Agregar el elemento al contenedor
                        pedidosContainer.appendChild(pedidoElement);


                        // Agregar un evento de clic al elemento del pedido
                        pedidoElement.addEventListener('click', function () {
                            // Redirigir a pedido.html y pasar el ID del pedido como parámetro
                            window.location.href = `/pedido.html?id=${pedido.id}`;
                        });

                        pedidosContainer.appendChild(pedidoElement);
                    });
                } else {
                    console.log('No hay pedidos para el cliente con ID 1111');
                }
            })
            .catch(error => console.error('Error al obtener pedidos:', error));
    </script>


    <script>
        function mostrarperson() {

            document.getElementById('ped').style.display = 'none'
            document.getElementById('pedido').style.display = "block"
            document.getElementById('most').style.display = "block"
            document.getElementById('mostrarle').style.display = "none"
        }

        function mosrtrarpedidos() {
            document.getElementById('pedido').style.display = "none"
            document.getElementById('ped').style.display = "block"
            document.getElementById('mostrarle').style.display = "block"
            document.getElementById('most').style.display = "none"


        }
    </script>

    <footer>
        <div class="footer-content">
            <div class="logotipo-footer">
                <a class="logotipo" href="index.html">Carito</a>
            </div>
            <div class="derecho-reservado">
                Todos los derechos reservados ©
            </div>
        </div>
        <div class="grupo">
            Grupo 03
        </div>
    </footer>
</body>

</html>